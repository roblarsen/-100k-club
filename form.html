<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>$100,000 Club Form</title>
  <script type='text/javascript' src='//cdnjs.cloudflare.com/ajax/libs/angular.js/1.0.3/angular.min.js'></script>
  <link rel="stylesheet" type="text/css" href="/css/normalize.css">
  <link rel="stylesheet" type="text/css" href="/css/main.css">
<script>
//'myApp.filters', 'myApp.services', 'myApp.directives', 
angular.module('comicsApp', ['comicsApp.controllers']);
angular.module('comicsApp.controllers', []).
  controller('comicsCtrl', [ "$scope", "$http",
    function( $scope , $http)  {
      $http({"method" : "GET", "url" : "data/books.json"}).success(function(data){$scope.items = data});
      $scope.sales = [];
      $scope.addItem = function(item) {
        console.log(item)
        item.sales = $scope.sales;
        $scope.items.push(item);
        $scope.item = {};
        $scope.sales = [];
        console.log($scope);
        
      } 
      $scope.addSale = function(sale) {
        $scope.sales.push(sale);
        for (var val in sale){
          delete sale[val];
        }
      } 
  }
]);
</script>


</head>
<body>
  <div ng-app="comicsApp">
    <div ng-controller="comicsCtrl">
<div><label>cgcid</label><input type="text" ng-model="item.cgcid" ></div>
    <div><label>title</label><input type="text" ng-model="item.title" ></div>
    <div><label>issue</label><input type="text" ng-model="item.issue" ></div>
    <div><label>version</label><input type="text" ng-model="item.version" ></div>
    <div><label>publisher</label><input type="text" ng-model="item.publisher" ></div>
    <div><label>cover_date</label><input type="text" ng-model="item.cover_date" ></div>
    <div><label>pedigree</label><input type="text" ng-model="item.pedigree" ></div> 
    <div><label>collection</label><input type="text" ng-model="item.collection" ></div> 
    <div><label>provenance</label><input type="text" ng-model="item.provenance" ></div>
    <div><label>grade_src</label><input type="text" ng-model="item.grade_src" ></div>
    <div><label>grade</label><input type="text" ng-model="item.grade" ></div>
    <div><label>pq</label><input type="text" ng-model="item.pq" ></div>
    <div><label>grading_notes</label><input type="text" ng-model="item.grading_notes" ></div>
    <div><label>restoration</label><input type="text" ng-model="item.restoration" ></div>
    <div><label>general_commentary</label><input type="text" ng-model="item.general_commentary" ></div>
    <fieldset><legend ng-toggle>Sales [{{sales.length}} so far]</legend>
      <div><label>sellers_notes</label><input type="text" ng-model="sale.sellers_notes" ></div>
      <div><label>sale_date</label><input type="text" ng-model="sale.sale_date" ></div>  
      <div><label>price</label><input type="text" ng-model="sale.price" ></div>
      <div><label>venue</label><input type="text" ng-model="sale.venue" ></div>
      <div><label>link</label><input type="text" ng-model="sale.link" ></div>
      <div><label>front_cover</label><input type="text" ng-model="sale.front_cover" ></div>
      <div><label>back cover</label><input type="text" ng-model="sale.back_cover" ></div>
     <div><input type="Button" value="Add" ng-click="addSale(sale)"></div>
    </fieldset>
    <div><label>tags</label><input type="text" ng-model="item.Name" ></div>
<div><input type="Button" value="Add" ng-click="addItem(item)"> </div>
  
    </div>
  </div>
  
</body>


</html>

